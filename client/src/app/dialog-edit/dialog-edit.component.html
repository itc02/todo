<div mat-dialog-content>
    <h1>{{ data.dialogTitle }}</h1>
</div>

<mat-form-field>
    <mat-label>
        New title
    </mat-label>
    <input matInput #title maxlength="25" [(ngModel)]="data.title" [value]="data.title">
    <mat-hint align="end">
        Current length {{title.value.length}} / 25
    </mat-hint>
</mat-form-field>

<mat-form-field>
  <mat-label>
      New status
  </mat-label>
  <mat-select [value]="data.status">
    <mat-option *ngFor="let status of data.statuses" [value]="status.status">
      {{ status.status }}
    </mat-option>
  </mat-select>
</mat-form-field>

<mat-form-field>
    <mat-label>
        New deadline
    </mat-label>
    <input matInput="date" [matDatepicker]="picker" [(ngModel)]="data.deadline" [value]="data.deadline">
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
</mat-form-field>

<mat-form-field>
    <mat-label>
        Assign to
    </mat-label>
    <input matInput [(ngModel)]="data.assignTo" [value]="data.assignTo" [matAutocomplete]="auto" [formControl]="data.control">
    <mat-autocomplete #auto="matAutocomplete" [displayWith]="data.displayFn">
        <mat-option *ngFor="let option of data.filteredOptions | async" [value]="option.name">
          {{ option.name }}
        </mat-option>
      </mat-autocomplete>
</mat-form-field>

<mat-form-field>
    <mat-label>
        New description
    </mat-label>
    <textarea #description maxlength="256" rows="8" matInput [(ngModel)]="data.description" [value]="data.description"></textarea>
    <mat-hint align="end">
        Current length {{ description.value.length }}/256
    </mat-hint>
</mat-form-field>

<div mat-dialog-actions>
    <button mat-raised-button class="cancel" color="warn" (click)="cancel()">Cancel</button>
    <button mat-raised-button class="ok" [mat-dialog-close]="{title: data.title, description: data.description, deadline: data.deadline, assignTo: data.assignTo}">{{ data.okText }}</button>
</div>